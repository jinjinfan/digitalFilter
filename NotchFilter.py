# -*- coding: utf-8 -*-
"""
Created on Wed Jul 19 11:46:26 2017

@author: JFan
"""

from scipy.signal import lfilter

tapsNotch50HZ = [-0.017114069981292633,
-0.022552046750004023,
-0.028474297772840697,
-0.034795168077863266,
-0.041412323303667988,
-0.048209119233083610,
-0.055057543533839286,
-0.061821639460508643,
-0.068361300896043642,
-0.074536311755179455,
-0.080210491166036665,
-0.085255799528799720,
-0.089556259843139474,
-0.093011553688064991,
-0.095540161779845825,
-0.097081934742540191,
 0.902399999999999980,
-0.097081934742540191,
-0.095540161779845825,
-0.093011553688064991,
-0.089556259843139474,
-0.085255799528799720,
-0.080210491166036665,
-0.074536311755179455,
-0.068361300896043642,
-0.061821639460508643,
-0.055057543533839286,
-0.048209119233083610,
-0.041412323303667988,
-0.034795168077863266,
-0.028474297772840697,
-0.022552046750004023,
-0.017114069981292633]

tapsNotch60HZ = [0.922790424239969487,
-0.143197524835284001,
-0.124452486473458496,
-0.102684344605047981,
-0.079051426662669760,
-0.054712052159319166,
-0.030766169684061734,
-0.008204142366681641,
 0.012134964317400108,
 0.029593930484236558,
 0.043715848505145954,
 0.054250342420291135,
 0.061148086836490180,
 0.064544806823681342,
 0.064736464513022674,
 0.062147727538650145,
 0.057296054463467541,
 0.050753818007575807,
 0.043110822924747119,
 0.034939375140018762,
 0.026763743079541262,
 0.019035447534763036,
 0.012115353242116694,
 0.006263045689369308,
 0.001633492213092016,
-0.001719463295384413,
-0.003833612267819101,
-0.004824049134951303,
-0.004865358536050072,
-0.004171798556246074,
-0.002976967036771025,
-0.001514352359834428]

NotchDict = {"50":tapsNotch50HZ, "60":tapsNotch60HZ}

class NotchFilter:
    def __init__(self, frequency):
        """
        Return a notch filter depending on the frequency
        """
        self.taps = NotchDict[frequency]

    def filter(self, origin):
        return lfilter(self.taps, 1.0, origin)

